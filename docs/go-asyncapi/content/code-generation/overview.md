---
title: "Overview"
weight: 310
description: "Overview of the code generation capabilities of go-asyncapi" 
---

# Code generation overview

One of core features of `go-asyncapi` is Go boilerplate code generation from AsyncAPI documents.
The generated code has minimal dependencies on external libraries and contains the basic logic sufficient to
send and receive messages. You also can plug in the protocol implementations built-in in `go-asyncapi`, they are based on
popular libraries for that protocol. Also, it is possible to import the third-party code in the code being generated.

Code generation is also a crucial part of 
[Contract-First Development](https://www.moesif.com/blog/technical/api-development/Mastering-Contract-First-API-Development-Key-Strategies-and-Benefits/)
(so-called "API First" or "Schema First").

## Quick start

`go-asyncapi` accepts an AsyncAPI document in YAML or JSON format and produces the Go code. Repeated tool runs produce
exactly the same code.

Download the [example document](https://github.com/asyncapi/spec/blob/master/examples/streetlights-mqtt-asyncapi.yml) 
and save it as `streetlights-mqtt-asyncapi.yml`. Then, run the following command to generate the code:

```bash
go-asyncapi code streetlights-mqtt-asyncapi.yml
```

{{% details title="Console output" %}}
```
INFO Logging to stderr INFO
INFO Compilation üî®: Compile a document url=streetlights-mqtt-asyncapi.yml
INFO Locating üì°: Reading document from filesystem path=streetlights-mqtt-asyncapi.yml
INFO Linking üîó: Linking complete refs=22
INFO Rendering üé®: Objects rendered count=0
INFO Formatting üìê: Formatting complete files=23
INFO Writing üìù: Writing complete files=23
INFO Code generation finished
INFO Done
```
{{% /details %}}

By default, the code is put to the `./asyncapi` directory (target directory) according to 
[default code layout]({{<relref "code-generation/code-layout.md#default-layout">}}).

You can use the `-t` option to specify a different target directory:

```bash
go-asyncapi code ./my-asyncapi-code streetlights-mqtt-asyncapi.yml -t /tmp/my-asyncapi-code
```

`go-asynapi` also accepts an HTTP URL, so you can also run the command even without downloading the file:

```bash
go-asyncapi code --allow-remote-refs https://raw.githubusercontent.com/asyncapi/spec/refs/heads/master/examples/streetlights-mqtt-asyncapi.yml
```

Debug logging output is enabled by the `-v=1`. The `-v=2` enables the trace logging:

```bash
go-asyncapi code streetlights-mqtt-asyncapi.yml -v=1
```

## Design principles

The requirements for the code generated by `go-asyncapi` are not significantly different from the requirements for
the code generated by other tools:

* The code should be easy to read, maintainable, flexible, modular, and easy to integrate into existing projects
* The result must be idempotent -- it must not change if the same AsyncAPI document is processed multiple times
* It should follow the Go conventions and idioms, be compatible with stdlib Go interfaces and types
* Minimal or zero external dependencies
* Performance optimizations are preferable
* The codegen process should be easy to run (including inside CI/CD pipelines) and to be configurable on different levels
  (document, configuration file, command line, etc.)

Other than that, there are some specific requirements for `go-asyncapi`.

The first one is that because the complex environments may be described in dozens of AsyncAPI documents
referenced to each other, we should track these dependencies and reflect them in the resulting code.

Finally, the generated code should be functional without additional user's effort (except that he should provide the
connection settings). This speeds up the prototyping, testing and gives a good start to write an application for simple use cases.
However, this behavior should be optional.
