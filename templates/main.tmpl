{{range .SelectSchemas}}
    {{template "schema" .}}
{{end}}

{{range .SelectServers}}
    {{template "server" .}}
    {{runTemplate (print .ProtoName "/" "server") .}}
{{end}}

{{range .SelectParameters}}
    {{template "parameter" .}}
{{end}}

{{$channels := .SelectChannels}}
{{if $channels}}{{template "channel" $channels.0}}{{end}}

{{range $channels}}
    {{runTemplate (print .ProtoName "/" "channel") .}}
{{end}}

{{$messages := .SelectMessages}}
{{if $messages}}{{template "message" $messages.0}}{{end}}

{{range $messages}}
    {{runTemplate (print .ProtoName "/" "message") .}}
{{end}}
