{{- /*
    .Object == common.Artifact: Ref -> render.Server or render.Server;
    .Config == common.ConfigDiagram
    */}}
{{define "diagram/server"}}
{{- with $server := deref .Object}}
{{- if $.Config.ShowDocumentBorders}}{{goID $server.Pointer.Location}}.{{end}}{{ goID $server }}: "ðŸ–¥ [{{$server.Protocol}}] {{$server.Host | toQuotable}}" {
    style: {
        fill: white
    }
    {{- if not $.Config.ShowChannels }}
        shape: image
    {{- end }}
    {{- with tryTmpl (print "diagram/server/proto/" $server.Protocol) $ }}{{.}}{{end}}
}
{{- end}}
{{- end}}
