{{- /* dot == render.ProtoChannel */}}
{{define "code/proto/ws/channel/publishMethods/block2"}}
    envelope.SetOpCode(byte({{goPkgExt "github.com/gobwas/ws"}}OpBinary))
{{- end}}

{{define "code/proto/ws/channel/bindings/values"}}
{{- goPkgUtil "ws"}}ChannelBindings{
    {{- with .Bindings.Values.Map.ws}}
        {{with .method }}Method: {{goLit .}},{{end}}
        {{with .query }}Query: {{toJSON . | goLit}},{{end}}
        {{with .headers }}Headers: {{toJSON . | goLit}},{{end}}
    {{- end}}
}
{{- end}}

{{template "proto_channel.tmpl" .}}